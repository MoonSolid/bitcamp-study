<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="PhotoBoardMapper">

  <resultMap type="PhotoBoard" id="PhotoBoardMap">
    <id column="photo_id"   property="no"/>
    <result column="titl"   property="title"/>
    <result column="cdt"   property="createdDate"/>
    <result column="vw_cnt"   property="viewCount"/>
    
    <association property="lesson" javaType="Lesson">
     <id column="lesson_id"   property="no"/>
     <result column="lesson_titl"   property="title"/>
    </association>
    
    <collection property="files" ofType="PhotoFile">
      <id column="photo_file_id"   property="no"/>
      <result column="file_path"  property="filepath"/>
    </collection>
  </resultMap>
  
  <select id="selectLesson" resultMap="LessonMap">
    select
     lesson_id,
     titl,
     sdt,
     edt,
     tot_hr
    from
     lms_lesson
  </select>
  
  
  <insert id="insertBoard" parameterType="Board">
  insert into lms_board(conts)
   values(#{title})
  </insert>
  
  
</mapper>







